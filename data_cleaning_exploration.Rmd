---
title: "Data Cleaning Exploration"
author: "Phoebe Abramowitz"
date: "3/4/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Upload Files:
```{r}
setwd("~/Desktop/Berkeley/Spring19/stat_154/154project")
source("./data_cleaning .R")
```

Network retrieved data until the end but sometimes the connection failed, logger has data from when the connection failed but not always until the end

```{r}
#Ask how to read this, or manually change the format into something I can read with delim then cut 
#datetime <- read.delim("./data/sonoma-dates", header=FALSE)
```
Temperature:
```{r}
#why are min & max NA? Doesnt matter becuase summary accurately gives min and max
range(data_net$humid_temp)
range(data_log$humid_temp)
#similar mean and median, exist in same reasonable scale except outliers
summary(data_net$humid_temp)
summary(data_log$humid_temp)
ggplot(data_net, aes(x=humid_temp)) + geom_histogram()
ggplot(data_log, aes(x=humid_temp)) + geom_histogram()
```
Relative Humidity:
```{r}
range(data_net$humidity)
range(data_log$humidity)
summary(data_net$humidity)
#Same Scale just with crazy lower outlier
summary(data_log$humidity)
ggplot(data_net, aes(x=humidity)) + geom_histogram()
ggplot(data_log, aes(x=humidity)) + geom_histogram()
```
Incident PAR:hamatop? wavelength from 350 to 700 nm
```{r}
#range for net is in the 90s, for log in the 40s
range(data_net$hamatop)
range(data_log$hamatop)
summary(data_net$hamatop)
summary(data_log$hamatop)
ggplot(data_net, aes(x=hamatop)) + geom_histogram()
ggplot(data_log, aes(x=hamatop)) + geom_histogram()
```
Reflective PAR:check column use here?
```{r}
range(data_net$hamabot)
range(data_log$hamabot)
summary(data_net$hamabot)
#similar in scale except for Max. >1/2 zeros bc median=0
summary(data_log$hamabot)
ggplot(data_net, aes(x=hamabot)) + geom_histogram()
ggplot(data_log, aes(x=hamabot)) + geom_histogram()
```
Voltage-measure of Battery:
```{r}
range(data_net$voltage)-range(data_log$voltage)
#range of voltage is very inconsistant
#voltage is clearly different scales between log and net
#loig data matches the paper
```
epoch, nodeid, result_time-Distinguishing between points
```{r}
#range of epoch is very inconsistant
range(data_net$epoch)-range(data_log$epoch)

#Why does nodeid go so high in log? 
range(data_net$nodeid)-range(data_log$nodeid)
```
Choose to combine net and log Either can work to become the "Main Table"
```{r}
#First need to equate ranges, as above
#data_net has more precise times
#concatenate everything in data_net with everything in data_log that isn;t in data_net, defined by epoch and nodeid
library(dplyr)
data_log$result_time
just_log <- anti_join(data_log, data_net, by = c("nodeid" = "nodeid", "epoch" = "epoch"))
#add .000000 ti every result_time in data_log
just_log$result_time <- just_log$result_time+".000000"
data_main <- full_join(data_net, just_log )
```

What is epoch?
Are all the missing Values NA? How to get range to stop giving NA
When should zero values be NAs?
How to use the HUmid adjustment column?

